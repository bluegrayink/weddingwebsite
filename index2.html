<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RSVP</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background-color: #f9f9f9;
    }
    input, textarea {
      width: 100%;
      padding: 1rem;
      margin-bottom: 1rem;
    }
    button {
      padding: 0.75rem 2rem;
      font-weight: bold;
    }
    #messages-list {
      margin-top: 2rem;
      background: #fff;
      padding: 1rem;
      border-radius: 8px;
    }
    #messages-list p {
      margin: 0.5rem 0;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.5rem;
    }
  </style>
</head>
<body>

  <h2>RSVP - Leave a Message</h2>
  <form id="rsvp-form">
    <input type="text" id="name" placeholder="Your Name" required />
    <textarea id="message" placeholder="Your Message" required></textarea>
    <button type="submit">Submit</button>
  </form>

  <div id="messages-list">
    <h3>Messages:</h3>
  </div>

  <script>
    // Firebase Config (ganti dengan milikmu)
    const firebaseConfig = {
      apiKey: "AIzaSyDUlQFAIca8RMQJT8uGWa8SyGKIbP9uvzw",
      authDomain: "bluewedsites.firebaseapp.com",
      databaseURL: "https://bluewedsites-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "bluewedsites",
      storageBucket: "bluewedsites.appspot.com",
      messagingSenderId: "337835623394",
      appId: "1:337835623394:web:57212d721c0f7e00d7afbb",
      measurementId: "G-TJX98ZBWFE"
    };
    firebase.initializeApp(firebaseConfig);

    const db = firebase.database();
    const form = document.getElementById("rsvp-form");
    const nameInput = document.getElementById("name");
    const messageInput = document.getElementById("message");
    const messagesList = document.getElementById("messages-list");

    // Simpan pesan ke Firebase saat form disubmit
    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const name = nameInput.value.trim();
      const message = messageInput.value.trim();

      if (name && message) {
        db.ref("messages").push({
          name: name,
          message: message
        });
        form.reset();
      }
    });

    // Tampilkan pesan-pesan dari database
    db.ref("messages").on("child_added", function (snapshot) {
      const data = snapshot.val();
      const newMessage = document.createElement("p");
      newMessage.textContent = `${data.name}: ${data.message}`;
      messagesList.appendChild(newMessage);
    });
  </script>

</body>
</html>